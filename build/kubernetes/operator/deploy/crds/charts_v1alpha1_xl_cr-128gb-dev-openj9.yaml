apiVersion: charts.helm.k8s.io/v1alpha1
kind: Xl
metadata:
  name: xl-release
spec:
  # This configuration file is used for production.
  # Default values copied from <project_dir>/helm-charts/xl/values.yaml

  # Default values for xl.
  # This is a YAML-formatted file.
  # Declare variables to be passed into your templates.

  # Any changes run : kubectl apply -f deploy/crds/charts_v1alpha1_xl_cr.yaml -n turbonomic

  # Global settings
  global:
  #  registry: index.docker.io
  #  imageUsername: turbouser
  #  imagePassword: turbopassword
    repository: turbonomic
    tag: 8.0.100-cloud_volume_scale_action-SNAPSHOT
    externalIP: 10.0.2.15
    externalDbIP: 10.0.2.15
    externalTimescaleDBIP: 10.0.2.15

  grafana:
    # Grafana is disabled by default. To enable it, uncomment:
    enabled: false
    adminPassword: admin
    grafana.ini:
      database:
        # Store data in sqlite3 (no persistence across restarts) by default. To persist, uncomment:
        type: postgres

        # The password. TODO - figure out the correct/ideal way to deploy this without risking
        # losing/resetting the password on upgrade.
        # See: https://github.com/helm/charts/issues/5167
        password: grafana

  # Component selector - Probes
  actionscript:
    enabled: true
  appdynamics:
    enabled: true
  appinsights:
    enabled: true
  aws:
    enabled: true
  azure:
    enabled: true
  dynatrace:
    enabled: true
  hpe3par:
    enabled: true
  horizon:
    enabled: false
  hyperflex:
    enabled: false
  hyperv:
    enabled: true
  kubeturbo:
    enabled: true
  netapp:
    enabled: true
  nutanix:
    enabled: true
  oneview:
    enabled: true
  prometheus-mysql-exporter:
    enabled: true
    mysql:
      user: root
      pass: vmturbo
  prometheus:
    enabled: true
  prometurbo:
    enabled: true
  pure:
    enabled: true
  scaleio:
    enabled: false
  servicenow:
    enabled: false
  ucs:
    enabled: true
  vcenter:
    enabled: true
  vmax:
    enabled: true
  vmm:
    enabled: true
  wmi:
    enabled: true
  snmp:
    enabled: true
  mssql:
    enabled: true
  mysql:
    enabled: true
  tomcat:
    enabled: false
  newrelic:
    enabled: true
  udt:
    enabled: true

  # Resource limits - Core Services
  action-orchestrator:
    resources:
      limits:
        memory: 16Gi
  api:
    resources:
      limits:
        memory: 16Gi
  auth:
    resources:
      limits:
        memory: 16Gi
  clustermgr:
    resources:
      limits:
        memory: 16Gi
  cost:
    resources:
      limits:
        memory: 32Gi
  group:
    resources:
      limits:
        memory: 32Gi
  history:
    resources:
      limits:
        memory: 32Gi
  market:
    resources:
      limits:
        memory: 32Gi
  plan-orchestrator:
    resources:
      limits:
        memory: 16Gi
  repository:
    resources:
      limits:
        memory: 32Gi
  topology-processor:
    resources:
      limits:
        memory: 32Gi

  # Resource limits - Core 3rd party
  arangodb:
    resources:
      limits:
        memory: 6Gi
  kafka:
    resources:
      limits:
        memory: 8Gi
  zookeeper:
    resources:
      limits:
        memory: 1Gi

  # Resources limits - Probes
  mediation-actionscript:
    resources:
      limits:
        memory: 32Gi
  mediation-aix:
    resources:
      limits:
        memory: 32Gi
  mediation-appdynamics:
    resources:
      limits:
        memory: 32Gi
  mediation-aws:
    resources:
      limits:
        memory: 32Gi
  mediation-awsbilling:
    resources:
      limits:
        memory: 32Gi
  mediation-awscost:
    resources:
      limits:
        memory: 32Gi
  mediation-awslambda:
    resources:
      limits:
        memory: 32Gi
  mediation-azure:
    resources:
      limits:
        memory: 32Gi
  mediation-azurecost:
    resources:
      limits:
        memory: 32Gi
  mediation-azurevolumes:
    resources:
      limits:
        memory: 32Gi
  mediation-cloudfoundry:
    resources:
      limits:
        memory: 32Gi
  mediation-compellent:
    resources:
      limits:
        memory: 32Gi
  mediation-datadog:
    resources:
      limits:
        memory: 32Gi
  mediation-dynatrace:
    resources:
      limits:
        memory: 32Gi
  mediation-gcp:
    resources:
      limits:
        memory: 32Gi
  mediation-gcpcost:
    resources:
      limits:
        memory: 32Gi
  mediation-hds:
    resources:
      limits:
        memory: 32Gi
  mediation-horizon:
    resources:
      limits:
        memory: 32Gi
  mediation-hpe3par:
    resources:
      limits:
        memory: 32Gi
  mediation-hyperflex:
    resources:
      limits:
        memory: 32Gi
  mediation-hyperv:
    resources:
      limits:
        memory: 32Gi
  mediation-istio:
    resources:
      limits:
        memory: 32Gi
  mediation-mssql:
    resources:
      limits:
        memory: 32Gi
  mediation-mysql:
    resources:
      limits:
        memory: 32Gi
  mediation-tomcat:
    resources:
      limits:
        memory: 32Gi
  mediation-netapp:
    resources:
      limits:
        memory: 32Gi
  mediation-nutanix:
    resources:
      limits:
        memory: 32Gi
  mediation-netflow:
    resources:
      limits:
        memory: 32Gi
  mediation-oneview:
    resources:
      limits:
        memory: 32Gi
  mediation-openstack:
    resources:
      limits:
        memory: 32Gi
  mediation-pivotal:
    resources:
      limits:
        memory: 32Gi
  mediation-pure:
    resources:
      limits:
        memory: 32Gi
  mediation-rhv:
    resources:
      limits:
        memory: 32Gi
  mediation-scaleio:
    resources:
      limits:
        memory: 32Gi
  mediation-snmp:
    resources:
      limits:
        memory: 32Gi
  mediation-tetration:
    resources:
      limits:
        memory: 32Gi
  mediation-ucs:
    resources:
      limits:
        memory: 32Gi
  mediation-ucsdirector:
    resources:
      limits:
        memory: 32Gi
  mediation-vcd:
    resources:
      limits:
        memory: 32Gi
  mediation-vcenter:
    resources:
      limits:
        memory: 32Gi
  mediation-vcenterbrowsing:
    resources:
      limits:
        memory: 32Gi
  mediation-vmax:
    resources:
      limits:
        memory: 32Gi
  mediation-vmm:
    resources:
      limits:
        memory: 32Gi
  mediation-vplex:
    resources:
      limits:
        memory: 32Gi
  mediation-wmi:
    resources:
      limits:
        memory: 32Gi
  mediation-xtremio:
    resources:
      limits:
        memory: 32Gi
  mediation-appinsights:
    resources:
      limits:
        memory: 32Gi
  mediation-newrelic:
    resources:
      limits:
        memory: 32Gi
  mediation-udt:
    resources:
      limits:
        memory: 32Gi
